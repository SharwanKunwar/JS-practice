<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Card</title>
</head>
<body>
    <script>
        // Set body styles
        const body = document.querySelector("body");
        Object.assign(body.style, {
            backgroundColor: "gray",
            width: "90vw",
            height: "90vh",
            display: "flex",
            justifyContent: "center",
            alignItems: "center"
        });

        // Main container
        const CardBox = document.createElement("div");
        Object.assign(CardBox.style, {
            width: "90%",
            height: "90%",
            display: "flex",
            justifyContent: "center",
            alignItems: "center"
        });
        body.appendChild(CardBox);

        // Card structure
        const card = document.createElement("div");
        Object.assign(card.style, {
            width: "400px",
            height: "90%",
            boxShadow: "1px 1px 10px black",
            borderRadius: "10px",
            backgroundColor: "white",
            display: "flex",
            flexDirection: "column",
            justifyContent: "center",
            alignItems: "center",
            gap: "40px"
        });
        CardBox.appendChild(card);

        // User Image Box
        const UserImgBox = document.createElement("div");
        Object.assign(UserImgBox.style, {
            width: "70%",
            height: "60%",
            boxShadow: "1px 1px 10px gray",
            backgroundSize: "cover",
            backgroundPosition: "center",
            borderRadius: "15px",
            backgroundImage: "url('https://plus.unsplash.com/premium_photo-1711987494491-e2d3add52ff2?q=80&w=1980&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"
        });
        UserImgBox.id = "UserImg";
        card.appendChild(UserImgBox);

        // Text Container
        const textBox = document.createElement("div");
        Object.assign(textBox.style, {
            width: "60%",
            height: "20%",
            color: "black"
        });
        card.appendChild(textBox);

        // Name Element
        const name = document.createElement("h3");
        Object.assign(name.style, {
            width: "100%",
            fontFamily: "cursive",
            display: "flex",
            justifyContent: "center"
        });
        name.id = "UserName";
        name.textContent = "...";
        textBox.appendChild(name);

        // Followers Element
        const followers = document.createElement("h4");
        Object.assign(followers.style, {
            width: "100%",
            fontFamily: "monospace",
            display: "flex",
            justifyContent: "center"
        });
        followers.id = "UserFollowers";
        followers.textContent = "...";
        textBox.appendChild(followers);

        // Repos Element
        const repo = document.createElement("h4");
        Object.assign(repo.style, {
            width: "100%",
            fontFamily: "monospace",
            display: "flex",
            justifyContent: "center"
        });
        repo.id = "UserRepos";
        repo.textContent = "...";
        textBox.appendChild(repo);

        // GitHub Users
        const gitHub_Users = [
            "SharwanKunwar",
            "AlenPariyarOct10",
            "codewithharry",
            "kunal-kushwaha",
            "hiteshchoudhary",
            "loveBabbar",
            "nwaliaez"
        ];

        // Fetch GitHub Data
        // async function fetchGitHubProfile(username) {
        //     try {
        //         let response = await fetch(`https://api.github.com/users/${username}`);
        //         if (!response.ok) throw new Error("GitHub API request failed");

        //         let myData = await response.json();
        //         UserImgBox.style.backgroundImage = `url(${myData.avatar_url})`;
        //         name.textContent = myData.name || "No Name";
        //         followers.textContent = `Followers: ${myData.followers}`;
        //         repo.textContent = `Repos: ${myData.public_repos}`;
        //     } catch (error) {
        //         console.error("Error fetching data:", error);
        //     }
        // }

        async function fetchGitHubProfile(username){
            try{
                const finalURL = `https://api.github.com/users/${username}`;
                const response = await fetch(finalURL);
                const myData = await response.json();
                UserImgBox.style.backgroundImage = `url(${myData.avatar_url})`;
                name.textContent = myData.name || "No Name";
                followers.textContent = `Followers: ${myData.followers}`;
                repo.textContent = `Repos: ${myData.public_repos}`;
            }catch(error){
                console.log(error);
            }
        }

        // Load first user
        
            
            fetchGitHubProfile(gitHub_Users[0]);
            
        
        
    </script>
</body>
</html>
